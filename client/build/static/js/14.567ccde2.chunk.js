(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{140:function(e,t,n){"use strict";n.r(t);var s=n(10),a=n(1),l=n(0),c=(n(90),n(2)),i=n(17),o=n.n(i),r=n(68),u=function(e){localStorage.setItem("token",e)};var b=Object(c.f)((function(e){var t=e.InformAppJsThatUserIsLoggedIn,n=Object(l.useState)(""),c=Object(s.a)(n,2),i=c[0],b=c[1],d=Object(l.useState)(""),j=Object(s.a)(d,2),m=j[0],p=j[1],g=Object(l.useState)(null),h=Object(s.a)(g,2),O=h[0],x=h[1],f=Object(l.useState)(null),v=Object(s.a)(f,2),N=v[0],y=v[1];return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:function(n){return function(n){n.preventDefault(),x(!0);var s=new FormData;s.append("email",i),s.append("password",m),o.a.post("/api/users/login",s).then((function(n){x(null),console.log(n),n.data.success&&(console.log(n.data.token),u(n.data.token),t(),e.history.goBack())})).catch((function(e){console.log(e),console.log(e.response),e.response&&e.response.data&&y(e.response.data.message),x(null)}))}(n)},children:[!!N&&Object(a.jsx)("div",{className:"alert alert-danger small",children:N}),Object(a.jsxs)("div",{className:"my-2",children:[Object(a.jsx)("label",{htmlFor:"login-email",className:"m-0 text-muted",children:"Email"}),Object(a.jsx)("input",{type:"email",id:"login-email",className:"form-control bg-light",value:i,onChange:function(e){b(e.target.value)}})]}),Object(a.jsxs)("div",{className:"my-2",children:[Object(a.jsx)("label",{htmlFor:"login-password",className:"m-0 text-muted",children:"Password"}),Object(a.jsx)("input",{type:"password",id:"login-password",className:"form-control bg-light",value:m,onChange:function(e){p(e.target.value)}})]}),Object(a.jsxs)("div",{className:"my-3",children:[!O&&Object(a.jsx)("button",{type:"submit",className:"btn btn-warning auth-btn auth-login-btn ",children:"login"}),!!O&&Object(a.jsx)(r.a,{className:"btn btn-warning"})]})]})})}));var d=Object(c.f)((function(e){var t=e.InformAppJsThatUserIsLoggedIn,n=Object(l.useState)(""),c=Object(s.a)(n,2),i=c[0],b=c[1],d=Object(l.useState)(""),j=Object(s.a)(d,2),m=j[0],p=j[1],g=Object(l.useState)(null),h=Object(s.a)(g,2),O=h[0],x=h[1],f=Object(l.useState)(null),v=Object(s.a)(f,2),N=v[0],y=v[1],k=Object(l.useState)(null),w=Object(s.a)(k,2),S=w[0],I=w[1],C=Object(l.useState)(null),L=Object(s.a)(C,2),F=L[0],J=L[1],A=Object(l.useState)(null),T=Object(s.a)(A,2),U=T[0],D=T[1];return Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),y(!0);var t=new FormData;t.append("email",i),t.append("password",m),o.a.post("/api/users/signup",t).then((function(e){console.log(e),y(null),e.data.success&&(J("signup successful"),I(null),x(e.data.token),D(!0))})).catch((function(e){console.log(e),console.log(e.response),y(null),e.response&&e.response.data&&(I(e.response.data.message),J(null))}))}(e)},children:[!!F&&Object(a.jsx)("div",{className:"alert alert-success small",children:F}),!!S&&Object(a.jsx)("div",{className:"alert alert-danger small",children:S}),Object(a.jsxs)("div",{className:"my-2",children:[Object(a.jsx)("label",{htmlFor:"signup-email",className:"m-0 text-muted",children:"Email"}),Object(a.jsx)("input",{type:"email",id:"login-email",className:"form-control bg-light",value:i,onChange:function(e){b(e.target.value),J(null),I(null)}})]}),Object(a.jsxs)("div",{className:"my-2",children:[Object(a.jsx)("label",{htmlFor:"signup-password",className:"m-0 text-muted",children:"Password"}),Object(a.jsx)("input",{type:"password",id:"signup-password",className:"form-control bg-light",value:m,onChange:function(e){p(e.target.value),J(null),I(null)}})]}),Object(a.jsxs)("div",{className:"my-3",children:[!N&&Object(a.jsx)("button",{type:"submit",className:"btn btn-primary auth-btn auth-signup-btn",children:"Signup"}),!!N&&Object(a.jsx)(r.a,{className:"btn btn-primary"}),!!U&&Object(a.jsx)("button",{className:"btn btn-success",style:{marginLeft:8},onClick:function(){return u(O),e.history.goBack(),void t()},children:"login"})]})]})})})}));var j=function(e){var t=e.loginClicked,n=e.signupClicked,s=e.handleLoginClicked,l=e.handleSignupClicked;return Object(a.jsxs)("div",{className:"d-flex mb-4",children:[Object(a.jsx)("div",{className:t?"tab-btn login-tab p-2 text-muted active":"tab-btn login-tab p-2 text-muted",onClick:function(){return s()},children:"login"}),Object(a.jsx)("div",{className:n?"tab-btn signup-tab p-2 text-muted active":"tab-btn signup-tab p-2 text-muted",onClick:function(){return l()},children:"signup"})]})};t.default=Object(c.f)((function(e){var t=e.InformAppJsThatUserIsLoggedIn,n=Object(l.useState)(!0),c=Object(s.a)(n,2),i=c[0],o=c[1],r=Object(l.useState)(null),u=Object(s.a)(r,2),m=u[0],p=u[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"auth_container mx-auto mt-5 border px-4 py-2 rounded bg-white shadow-sm",children:[Object(a.jsx)(j,{loginClicked:i,signupClicked:m,handleLoginClicked:function(){o(!0),p(null)},handleSignupClicked:function(){o(null),p(!0)}}),i&&Object(a.jsx)(b,{InformAppJsThatUserIsLoggedIn:t}),m&&Object(a.jsx)(d,{InformAppJsThatUserIsLoggedIn:t})]})})}))},68:function(e,t,n){"use strict";var s=n(1);n(0);t.a=function(e){var t=e.className;return Object(s.jsx)("button",{type:"button",className:t,disabled:!0,children:Object(s.jsx)("div",{className:"spinner-border",style:{height:16,width:16,borderWidth:2},role:"status",children:Object(s.jsx)("span",{className:"sr-only",children:"Loading..."})})})}},90:function(e,t,n){}}]);
//# sourceMappingURL=14.567ccde2.chunk.js.map